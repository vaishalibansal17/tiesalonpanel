{"version":3,"sources":["src/app/home/notification/notification.component.html","src/app/home/notification/notification-routing.module.ts","src/app/home/notification/notification.component.scss","src/app/home/notification/notification.component.ts","src/app/home/notification/notification.module.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<!-- <app-breadcrumb></app-breadcrumb> -->\\n<div class=\\\"main-card\\\">\\n   \\n    <div [class]=\\\"list?.is_read==0?'notifi_list unread' : 'notifi_list'\\\" *ngFor=\\\"let list of list;\\\" >\\n        <div class=\\\"noti_left\\\"><img [src]=\\\"list?.img?((imgurl)+list.img):url\\\" alt=\\\"Notification Profile\\\"></div>\\n        <div class=\\\"noti_right\\\">\\n            <div class=\\\"cursor left_text\\\" (click)=\\\"slct(list)\\\">{{list?.msg}}</div>\\n            <span class=\\\"right_btn\\\">\\n                <!-- <a href=\\\"javascript:void(0)\\\" [routerLink]=\\\"['/booking/info', list?.bk_id]\\\" class=\\\"btn btn-accept\\\">View</a> -->\\n                <!-- <span> -->\\n                    <a href=\\\"javascript:void(0)\\\" class=\\\"btn btn-accept\\\" (click)=\\\"openDialog(list.bk_id, 1)\\\">Accept</a>\\n                    <a href=\\\"javascript:void(0)\\\" class=\\\"btn btn-decline\\\" (click)=\\\"openDialog(list.bk_id, 2)\\\">Decline</a>\\n                <!-- </span> -->\\n            </span>\\n        </div>\\n    </div>\\n    <div class=\\\"text-center\\\"><button type=\\\"button\\\" class=\\\"btn btn-submit\\\" (click)=\\\"loadMore()\\\">Load More</button></div>\\n</div>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { NotificationComponent } from './notification.component';\n\nconst routes: Routes = [{\n  path:'', component: NotificationComponent\n}];\n\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class NotificationRoutingModule { }\n","export default \".main-card {\\n  padding: 30px 30px 30px 15px !important;\\n}\\n\\n.main-card .notifi_list .noti_right {\\n  display: -webkit-inline-box;\\n  display: inline-flex;\\n}\\n\\n.left_text {\\n  width: calc(100% - 255px);\\n  margin-right: 15px;\\n}\\n\\n.left_text:hover {\\n  color: #f96bb3;\\n}\\n\\n@media (max-width: 767px) {\\n  .main-card {\\n    padding: 15px !important;\\n  }\\n\\n  .main-card .notifi_list .noti_right {\\n    display: block;\\n    padding: 5px 0px;\\n  }\\n\\n  .left_text {\\n    width: 100%;\\n    margin-right: 15px;\\n    padding-right: 15px;\\n  }\\n\\n  .main-card .notifi_list .noti_right span.right_btn {\\n    float: none;\\n    margin-top: 7px;\\n    display: block;\\n  }\\n\\n  .main-card .notifi_list .noti_right span.right_btn a.btn.btn-accept, .main-card .notifi_list .noti_right span.right_btn a.btn.btn-decline {\\n    margin-bottom: 7px;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9icmFpbm1vYmltYWMvQWJoaXNoZWsvYW5ndWxhci90aWUtd2ViL3NyYy9hcHAvaG9tZS9ub3RpZmljYXRpb24vbm90aWZpY2F0aW9uLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9ob21lL25vdGlmaWNhdGlvbi9ub3RpZmljYXRpb24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFBVyx1Q0FBQTtBQ0VYOztBRERBO0VBQW9DLDJCQUFBO0VBQUEsb0JBQUE7QUNLcEM7O0FESkE7RUFDSSx5QkFBQTtFQUEwQixrQkFBQTtBQ1E5Qjs7QURQSTtFQUNJLGNBQUE7QUNTUjs7QURMQTtFQUNJO0lBQVksd0JBQUE7RUNTZDs7RURSRTtJQUFvQyxjQUFBO0lBQWUsZ0JBQUE7RUNhckQ7O0VEWkU7SUFBWSxXQUFBO0lBQVksa0JBQUE7SUFBbUIsbUJBQUE7RUNrQjdDOztFRGpCRTtJQUFvRCxXQUFBO0lBQVksZUFBQTtJQUFnQixjQUFBO0VDdUJsRjs7RUR0QkU7SUFBMEksa0JBQUE7RUMwQjVJO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9ob21lL25vdGlmaWNhdGlvbi9ub3RpZmljYXRpb24uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWFpbi1jYXJke3BhZGRpbmc6IDMwcHggMzBweCAzMHB4IDE1cHggIWltcG9ydGFudDt9XG4ubWFpbi1jYXJkIC5ub3RpZmlfbGlzdCAubm90aV9yaWdodHtkaXNwbGF5OiBpbmxpbmUtZmxleDt9XG4ubGVmdF90ZXh0e1xuICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAyNTVweCk7bWFyZ2luLXJpZ2h0OiAxNXB4O1xuICAgICY6aG92ZXJ7XG4gICAgICAgIGNvbG9yOiAjZjk2YmIzO1xuICAgIH1cbn1cblxuQG1lZGlhKG1heC13aWR0aDo3NjdweCl7XG4gICAgLm1haW4tY2FyZCB7cGFkZGluZzogMTVweCAhaW1wb3J0YW50O31cbiAgICAubWFpbi1jYXJkIC5ub3RpZmlfbGlzdCAubm90aV9yaWdodHtkaXNwbGF5OiBibG9jaztwYWRkaW5nOiA1cHggMHB4O31cbiAgICAubGVmdF90ZXh0IHt3aWR0aDogMTAwJTttYXJnaW4tcmlnaHQ6IDE1cHg7cGFkZGluZy1yaWdodDogMTVweDt9XG4gICAgLm1haW4tY2FyZCAubm90aWZpX2xpc3QgLm5vdGlfcmlnaHQgc3Bhbi5yaWdodF9idG4ge2Zsb2F0OiBub25lO21hcmdpbi10b3A6IDdweDtkaXNwbGF5OiBibG9jazt9XG4gICAgLm1haW4tY2FyZCAubm90aWZpX2xpc3QgLm5vdGlfcmlnaHQgc3Bhbi5yaWdodF9idG4gYS5idG4uYnRuLWFjY2VwdCwgLm1haW4tY2FyZCAubm90aWZpX2xpc3QgLm5vdGlfcmlnaHQgc3Bhbi5yaWdodF9idG4gYS5idG4uYnRuLWRlY2xpbmV7bWFyZ2luLWJvdHRvbTogN3B4O31cbn0iLCIubWFpbi1jYXJkIHtcbiAgcGFkZGluZzogMzBweCAzMHB4IDMwcHggMTVweCAhaW1wb3J0YW50O1xufVxuXG4ubWFpbi1jYXJkIC5ub3RpZmlfbGlzdCAubm90aV9yaWdodCB7XG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xufVxuXG4ubGVmdF90ZXh0IHtcbiAgd2lkdGg6IGNhbGMoMTAwJSAtIDI1NXB4KTtcbiAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xufVxuLmxlZnRfdGV4dDpob3ZlciB7XG4gIGNvbG9yOiAjZjk2YmIzO1xufVxuXG5AbWVkaWEgKG1heC13aWR0aDogNzY3cHgpIHtcbiAgLm1haW4tY2FyZCB7XG4gICAgcGFkZGluZzogMTVweCAhaW1wb3J0YW50O1xuICB9XG5cbiAgLm1haW4tY2FyZCAubm90aWZpX2xpc3QgLm5vdGlfcmlnaHQge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHBhZGRpbmc6IDVweCAwcHg7XG4gIH1cblxuICAubGVmdF90ZXh0IHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7XG4gICAgcGFkZGluZy1yaWdodDogMTVweDtcbiAgfVxuXG4gIC5tYWluLWNhcmQgLm5vdGlmaV9saXN0IC5ub3RpX3JpZ2h0IHNwYW4ucmlnaHRfYnRuIHtcbiAgICBmbG9hdDogbm9uZTtcbiAgICBtYXJnaW4tdG9wOiA3cHg7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH1cblxuICAubWFpbi1jYXJkIC5ub3RpZmlfbGlzdCAubm90aV9yaWdodCBzcGFuLnJpZ2h0X2J0biBhLmJ0bi5idG4tYWNjZXB0LCAubWFpbi1jYXJkIC5ub3RpZmlfbGlzdCAubm90aV9yaWdodCBzcGFuLnJpZ2h0X2J0biBhLmJ0bi5idG4tZGVjbGluZSB7XG4gICAgbWFyZ2luLWJvdHRvbTogN3B4O1xuICB9XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { HttpRequestService } from 'src/app/shared/service/http-request.service';\nimport { Router } from '@angular/router';\nimport { IMG } from 'src/app/shared/constants/constant';\nimport { ErrorService } from 'src/app/shared/service/error.service';\nimport { ConfimDialogComponent } from 'src/app/shared/confim-dialog/confim-dialog.component';\nimport { MatDialog } from '@angular/material';\nimport { TranslatePipe } from 'src/app/shared/_pipes/translate.pipe';\n\n@Component({\n  selector: 'app-notification',\n  templateUrl: './notification.component.html',\n  styleUrls: ['./notification.component.scss']\n})\nexport class NotificationComponent implements OnInit {\n  list: any;\n  imgurl: any;\n  url = IMG.PRO\n  limit: number = 10;\n  // NOTI_LIST\n  constructor(private httprequest: HttpRequestService, private router: Router, private err: ErrorService, public dialog: MatDialog, private trns: TranslatePipe,) { }\n  ngOnInit() {\n    this.listNoti(0);\n  }\n\n  listNoti(limit) {\n    this.limit = this.limit + limit;\n    this.httprequest.getRequest('GET', 'NOTI_LIST', `${'limit=' + this.limit}`)\n      .subscribe((res) => {\n        if (res.status) {\n          this.imgurl = res.res.uP;\n          this.list = res.res.notf;\n          console.log(this.list);\n        } else {\n          new Error();\n        }\n      },\n        (error) => {\n          // this.httprequest.showError('Failed to get');\n        });\n  }\n\n  loadMore() {\n    this.listNoti(5)\n  }\n  slct(val) {\n    if (val.is_read) {\n      this.router.navigateByUrl('booking/info/' + val.bk_id);\n    } else {\n      this.httprequest.getRequest('POST_WITHDATA', 'NOTI_READ', { ntf_id: val._id }, val._id).subscribe((response: any) => {\n        if (response.status === 1) {\n          this.list.map((v, i) => {\n            if (v._id == val._id) {\n              this.list[i]['is_read'] = 1;\n              this.router.navigateByUrl('booking/info/' + v.bk_id);\n            }\n          })\n        } else {\n          this.err.handleError(response.err.errCode)\n        }\n      });\n    }\n  }\n\n\n  openDialog(id, type) {\n    const dialogRef = this.dialog.open(ConfimDialogComponent, { width: '500px', disableClose: true, data: { msg: `${'Are you sure you want to '}${type == 1 ? 'accept' :  (type == 2?'reject':'decline')}${' this Booking?'}`, btn: this.trns.transform('OK'), cncl: this.trns.transform('CANCEL') } });\n    dialogRef.beforeClosed().subscribe(\n      (val) => {\n        if (val) {\n          this.httprequest.getRequest('PUT', 'BOOKING_ACPT', { bk_status: type }, id)\n            .subscribe((response: any) => {\n              if (response.status === 1) {\n                this.httprequest.sucsTostr(this.trns.transform('SUCCESS'), type == 1 ? this.trns.transform('BK_ACPT') : this.trns.transform('BK_DEC'));\n                this.listNoti(0);\n              } else {\n                if (response.err)\n                  this.err.handleError(response.err.errCode)\n                return false;\n              }\n            }, error => {\n              this.err.handleError()\n            });\n        }\n      }\n    );\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { NotificationRoutingModule } from './notification-routing.module';\nimport { NotificationComponent } from './notification.component';\nimport { BreadcrumbModule } from 'src/app/shared/breadcrumb/breadcrumb.module';\n\n\n@NgModule({\n  declarations: [NotificationComponent],\n  imports: [\n    CommonModule,\n    NotificationRoutingModule,\n    BreadcrumbModule\n  ]\n})\nexport class NotificationModule { }\n"],"sourceRoot":"webpack:///","file":"26-es5.js"}
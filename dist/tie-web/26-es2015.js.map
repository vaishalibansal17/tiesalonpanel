{"version":3,"sources":["./src/app/home/notification/notification.component.html","./src/app/home/notification/notification-routing.module.ts","./src/app/home/notification/notification.component.scss","./src/app/home/notification/notification.component.ts","./src/app/home/notification/notification.module.ts"],"names":[],"mappings":"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","file":"26-es2015.js","sourcesContent":["export default \"<!-- <app-breadcrumb></app-breadcrumb> -->\\n<div class=\\\"main-card\\\">\\n   \\n    <div [class]=\\\"list?.is_read==0?'notifi_list unread' : 'notifi_list'\\\" *ngFor=\\\"let list of list;\\\" >\\n        <div class=\\\"noti_left\\\"><img [src]=\\\"list?.img?((imgurl)+list.img):url\\\" alt=\\\"Notification Profile\\\"></div>\\n        <div class=\\\"noti_right\\\">\\n            <div class=\\\"cursor left_text\\\" (click)=\\\"slct(list)\\\">{{list?.msg}}</div>\\n            <span class=\\\"right_btn\\\" *ngIf=\\\"list?.bookingStatus==2\\\">\\n                <!-- <a href=\\\"javascript:void(0)\\\" [routerLink]=\\\"['/booking/info', list?.bk_id]\\\" class=\\\"btn btn-accept\\\">View</a> -->\\n                <!-- <span> -->\\n                    <a href=\\\"javascript:void(0)\\\" class=\\\"btn btn-accept\\\" (click)=\\\"openDialog(list.bk_id, 1)\\\">Accept</a>\\n                    <a href=\\\"javascript:void(0)\\\" class=\\\"btn btn-decline\\\" (click)=\\\"openDialog(list.bk_id, 2)\\\">Decline</a>\\n                <!-- </span> -->\\n            </span>\\n        </div>\\n    </div>\\n    <div class=\\\"text-center\\\"><button type=\\\"button\\\" class=\\\"btn btn-submit\\\" (click)=\\\"loadMore()\\\">Load More</button></div>\\n</div>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { NotificationComponent } from './notification.component';\n\nconst routes: Routes = [{\n  path:'', component: NotificationComponent\n}];\n\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class NotificationRoutingModule { }\n","export default \".main-card {\\n  padding: 30px 30px 30px 15px !important;\\n}\\n\\n.main-card .notifi_list .noti_right {\\n  display: -webkit-inline-box;\\n  display: inline-flex;\\n}\\n\\n.left_text {\\n  width: calc(100% - 255px);\\n  margin-right: 15px;\\n}\\n\\n.left_text:hover {\\n  color: #f96bb3;\\n}\\n\\n@media (max-width: 767px) {\\n  .main-card {\\n    padding: 15px !important;\\n  }\\n\\n  .main-card .notifi_list .noti_right {\\n    display: block;\\n    padding: 5px 0px;\\n  }\\n\\n  .left_text {\\n    width: 100%;\\n    margin-right: 15px;\\n    padding-right: 15px;\\n  }\\n\\n  .main-card .notifi_list .noti_right span.right_btn {\\n    float: none;\\n    margin-top: 7px;\\n    display: block;\\n  }\\n\\n  .main-card .notifi_list .noti_right span.right_btn a.btn.btn-accept, .main-card .notifi_list .noti_right span.right_btn a.btn.btn-decline {\\n    margin-bottom: 7px;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9icmFpbm1vYmltYWMvQWJoaXNoZWsvYW5ndWxhci90aWUtd2ViL3NyYy9hcHAvaG9tZS9ub3RpZmljYXRpb24vbm90aWZpY2F0aW9uLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9ob21lL25vdGlmaWNhdGlvbi9ub3RpZmljYXRpb24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFBVyx1Q0FBQTtBQ0VYOztBRERBO0VBQW9DLDJCQUFBO0VBQUEsb0JBQUE7QUNLcEM7O0FESkE7RUFDSSx5QkFBQTtFQUEwQixrQkFBQTtBQ1E5Qjs7QURQSTtFQUNJLGNBQUE7QUNTUjs7QURMQTtFQUNJO0lBQVksd0JBQUE7RUNTZDs7RURSRTtJQUFvQyxjQUFBO0lBQWUsZ0JBQUE7RUNhckQ7O0VEWkU7SUFBWSxXQUFBO0lBQVksa0JBQUE7SUFBbUIsbUJBQUE7RUNrQjdDOztFRGpCRTtJQUFvRCxXQUFBO0lBQVksZUFBQTtJQUFnQixjQUFBO0VDdUJsRjs7RUR0QkU7SUFBMEksa0JBQUE7RUMwQjVJO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9ob21lL25vdGlmaWNhdGlvbi9ub3RpZmljYXRpb24uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWFpbi1jYXJke3BhZGRpbmc6IDMwcHggMzBweCAzMHB4IDE1cHggIWltcG9ydGFudDt9XG4ubWFpbi1jYXJkIC5ub3RpZmlfbGlzdCAubm90aV9yaWdodHtkaXNwbGF5OiBpbmxpbmUtZmxleDt9XG4ubGVmdF90ZXh0e1xuICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAyNTVweCk7bWFyZ2luLXJpZ2h0OiAxNXB4O1xuICAgICY6aG92ZXJ7XG4gICAgICAgIGNvbG9yOiAjZjk2YmIzO1xuICAgIH1cbn1cblxuQG1lZGlhKG1heC13aWR0aDo3NjdweCl7XG4gICAgLm1haW4tY2FyZCB7cGFkZGluZzogMTVweCAhaW1wb3J0YW50O31cbiAgICAubWFpbi1jYXJkIC5ub3RpZmlfbGlzdCAubm90aV9yaWdodHtkaXNwbGF5OiBibG9jaztwYWRkaW5nOiA1cHggMHB4O31cbiAgICAubGVmdF90ZXh0IHt3aWR0aDogMTAwJTttYXJnaW4tcmlnaHQ6IDE1cHg7cGFkZGluZy1yaWdodDogMTVweDt9XG4gICAgLm1haW4tY2FyZCAubm90aWZpX2xpc3QgLm5vdGlfcmlnaHQgc3Bhbi5yaWdodF9idG4ge2Zsb2F0OiBub25lO21hcmdpbi10b3A6IDdweDtkaXNwbGF5OiBibG9jazt9XG4gICAgLm1haW4tY2FyZCAubm90aWZpX2xpc3QgLm5vdGlfcmlnaHQgc3Bhbi5yaWdodF9idG4gYS5idG4uYnRuLWFjY2VwdCwgLm1haW4tY2FyZCAubm90aWZpX2xpc3QgLm5vdGlfcmlnaHQgc3Bhbi5yaWdodF9idG4gYS5idG4uYnRuLWRlY2xpbmV7bWFyZ2luLWJvdHRvbTogN3B4O31cbn0iLCIubWFpbi1jYXJkIHtcbiAgcGFkZGluZzogMzBweCAzMHB4IDMwcHggMTVweCAhaW1wb3J0YW50O1xufVxuXG4ubWFpbi1jYXJkIC5ub3RpZmlfbGlzdCAubm90aV9yaWdodCB7XG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xufVxuXG4ubGVmdF90ZXh0IHtcbiAgd2lkdGg6IGNhbGMoMTAwJSAtIDI1NXB4KTtcbiAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xufVxuLmxlZnRfdGV4dDpob3ZlciB7XG4gIGNvbG9yOiAjZjk2YmIzO1xufVxuXG5AbWVkaWEgKG1heC13aWR0aDogNzY3cHgpIHtcbiAgLm1haW4tY2FyZCB7XG4gICAgcGFkZGluZzogMTVweCAhaW1wb3J0YW50O1xuICB9XG5cbiAgLm1haW4tY2FyZCAubm90aWZpX2xpc3QgLm5vdGlfcmlnaHQge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHBhZGRpbmc6IDVweCAwcHg7XG4gIH1cblxuICAubGVmdF90ZXh0IHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7XG4gICAgcGFkZGluZy1yaWdodDogMTVweDtcbiAgfVxuXG4gIC5tYWluLWNhcmQgLm5vdGlmaV9saXN0IC5ub3RpX3JpZ2h0IHNwYW4ucmlnaHRfYnRuIHtcbiAgICBmbG9hdDogbm9uZTtcbiAgICBtYXJnaW4tdG9wOiA3cHg7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH1cblxuICAubWFpbi1jYXJkIC5ub3RpZmlfbGlzdCAubm90aV9yaWdodCBzcGFuLnJpZ2h0X2J0biBhLmJ0bi5idG4tYWNjZXB0LCAubWFpbi1jYXJkIC5ub3RpZmlfbGlzdCAubm90aV9yaWdodCBzcGFuLnJpZ2h0X2J0biBhLmJ0bi5idG4tZGVjbGluZSB7XG4gICAgbWFyZ2luLWJvdHRvbTogN3B4O1xuICB9XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { HttpRequestService } from 'src/app/shared/service/http-request.service';\nimport { Router } from '@angular/router';\nimport { IMG } from 'src/app/shared/constants/constant';\nimport { ErrorService } from 'src/app/shared/service/error.service';\nimport { ConfimDialogComponent } from 'src/app/shared/confim-dialog/confim-dialog.component';\nimport { MatDialog } from '@angular/material';\nimport { TranslatePipe } from 'src/app/shared/_pipes/translate.pipe';\n\n@Component({\n  selector: 'app-notification',\n  templateUrl: './notification.component.html',\n  styleUrls: ['./notification.component.scss']\n})\nexport class NotificationComponent implements OnInit {\n  list: any;\n  imgurl: any;\n  url = IMG.PRO\n  limit: number = 10;\n  // NOTI_LIST\n  constructor(private httprequest: HttpRequestService, private router: Router, private err: ErrorService, public dialog: MatDialog, private trns: TranslatePipe,) { }\n  ngOnInit() {\n    this.listNoti(0);\n  }\n\n  listNoti(limit) {\n    this.limit = this.limit + limit;\n    this.httprequest.getRequest('GET', 'NOTI_LIST', `${'limit=' + this.limit}`)\n      .subscribe((res) => {\n        if (res.status) {\n          this.imgurl = res.res.uP;\n          this.list = res.res.notf;\n          console.log(this.list);\n        } else {\n          new Error();\n        }\n      },\n        (error) => {\n          // this.httprequest.showError('Failed to get');\n        });\n  }\n\n  loadMore() {\n    this.listNoti(5)\n  }\n  slct(val) {\n    if (val.is_read) {\n      this.router.navigateByUrl('booking/info/' + val.bk_id);\n    } else {\n      this.httprequest.getRequest('POST_WITHDATA', 'NOTI_READ', { ntf_id: val._id }, val._id).subscribe((response: any) => {\n        if (response.status === 1) {\n          this.list.map((v, i) => {\n            if (v._id == val._id) {\n              this.list[i]['is_read'] = 1;\n              this.router.navigateByUrl('booking/info/' + v.bk_id);\n            }\n          })\n        } else {\n          this.err.handleError(response.err.errCode)\n        }\n      });\n    }\n  }\n\n\n  openDialog(id, type) {\n    const dialogRef = this.dialog.open(ConfimDialogComponent, { width: '500px', disableClose: true, data: { msg: `${'Are you sure you want to '}${type == 1 ? 'accept' :  (type == 2?'reject':'decline')}${' this Booking?'}`, btn: this.trns.transform('OK'), cncl: this.trns.transform('CANCEL') } });\n    dialogRef.beforeClosed().subscribe(\n      (val) => {\n        if (val) {\n          this.httprequest.getRequest('PUT', 'BOOKING_ACPT', { bk_status: type }, id)\n            .subscribe((response: any) => {\n              if (response.status === 1) {\n                this.httprequest.sucsTostr(this.trns.transform('SUCCESS'), type == 1 ? this.trns.transform('BK_ACPT') : this.trns.transform('BK_DEC'));\n                this.listNoti(0);\n              } else {\n                if (response.err)\n                  this.err.handleError(response.err.errCode)\n                return false;\n              }\n            }, error => {\n              this.err.handleError()\n            });\n        }\n      }\n    );\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { NotificationRoutingModule } from './notification-routing.module';\nimport { NotificationComponent } from './notification.component';\nimport { BreadcrumbModule } from 'src/app/shared/breadcrumb/breadcrumb.module';\n\n\n@NgModule({\n  declarations: [NotificationComponent],\n  imports: [\n    CommonModule,\n    NotificationRoutingModule,\n    BreadcrumbModule\n  ]\n})\nexport class NotificationModule { }\n"],"sourceRoot":"webpack:///"}